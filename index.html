<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gil Nava Zaragoza | Switch Applications Engineer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Animate.css for preloader animation -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0F172A;
            color: #E2E8F0;
        }

        html {
            scroll-padding-top: 80px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -2.375rem;
            top: 0.25rem;
            width: 1.25rem;
            height: 1.25rem;
            border-radius: 9999px;
            border: 4px solid #334155;
            background-color: #64748B;
            transition: all 0.3s ease;
        }

        .timeline-item.active::before {
            background-color: #3B82F6;
            border-color: #93C5FD;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        /* Light mode overrides - apply to all backgrounds/texts */
        .light body {
            background-color: #F8FAFC !important;
            color: #0F172A !important;
        }

        .light #header,
        .light .bg-slate-950,
        .light .bg-slate-900,
        .light #footer,
        .light .bg-slate-950\/80 {
            background-color: #FFFFFF !important;
            color: #0F172A !important;
        }

        .light .text-slate-200 {
            color: #0F172A !important;
        }

        .light .text-slate-400 {
            color: #475569 !important;
        }

        .light .text-slate-300 {
            color: #334155 !important;
        }

        .light .text-slate-500 {
            color: #334155 !important;
        }

        .light .border-slate-800 {
            border-color: #E2E8F0 !important;
        }

        .light .bg-sky-600 {
            background-color: #0369A1 !important;
        }

        .light .bg-sky-700 {
            background-color: #075985 !important;
        }

        .light .timeline-item::before {
            border-color: #CBD5E1 !important;
            background-color: #94A3B8 !important;
        }

        .light #contact-modal {
            background-color: #F8FAFC !important;
        }

            .light #contact-modal .bg-slate-900 {
                background-color: #FFFFFF !important;
                color: #0F172A !important;
            }

        .light #footer {
            background-color: #F8FAFC !important;
            color: #475569 !important;
        }
        /* Preloader dark/light backgrounds */
        #loading {
            position: fixed;
            inset: 0;
            background-color: #0b1220;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            color: #E2E8F0;
        }

        .light #loading {
            background-color: #F8FAFC !important;
            color: #0F172A !important;
        }

        #loading-center {
            text-align: center;
        }

        #loading .load-box {
            display: inline-block;
            width: 72px;
            height: 72px;
            border-radius: 8px;
            background: linear-gradient(135deg,#1f2937,#374151);
            margin-bottom: 1rem;
            position: relative;
            overflow: hidden;
        }

        .light #loading .load-box {
            background: linear-gradient(135deg,#e2e8f0,#f8fafc);
        }

        #loading .load-box::after {
            content: '';
            position: absolute;
            left: -40%;
            top: -40%;
            width: 180%;
            height: 180%;
            background: rgba(255,255,255,0.04);
            transform: rotate(45deg);
            animation: shimmer 1.6s linear infinite;
        }

        @keyframes shimmer {
            0% {
                transform: translateX(-100%) rotate(45deg);
            }

            100% {
                transform: translateX(100%) rotate(45deg);
            }
        }

        #loading h2 {
            font-size: 1.25rem;
            letter-spacing: 0.02em;
            margin: .25rem 0 0;
        }

        #loading h6 {
            font-size: .9rem;
            color: #94A3B8;
            margin: 0;
        }

        .light #loading h6 {
            color: #475569 !important;
        }
        /* Theme toggle button styling */
        #theme-toggle {
            background: transparent;
            border: 1px solid rgba(226,232,240,0.06);
            padding: 0.4rem 0.6rem;
            border-radius: 0.5rem;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: inherit;
        }

            #theme-toggle svg {
                width: 20px;
                height: 20px;
            }

        /* Interest cards and profile hover animations */
        .profile-pic {
            width: 300px;
            height: 300px;
            object-fit: cover;
            border-radius: 50%;
            box-shadow: 0 0 0 8px #1e293b;
            object-position: top;
            display: block;
            transition: transform 220ms ease, box-shadow 220ms ease;
            will-change: transform;
        }

        @keyframes profile-pulse {
            0% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.06) rotate(-3deg); }
            60% { transform: scale(0.98) rotate(3deg); }
            100% { transform: scale(1) rotate(0deg); }
        }
        /* New simple move animation for profile pic hover */
        @keyframes profile-move-once {
            0% { transform: translateY(0); }
            20% { transform: translateY(-6px); }
            40% { transform: translateY(4px); }
            60% { transform: translateY(-3px); }
            80% { transform: translateY(2px); }
            100% { transform: translateY(0); }
        }
        /* Zoom animation (scale up then back) */
        @keyframes profile-zoom-once {
            0% { transform: scale(1); }
            35% { transform: scale(1.08); }
            60% { transform: scale(1.12); }
            100% { transform: scale(1); }
        }

        /* Center the interests parent container */
        .interests-parent {
            display: flex !important;
            justify-content: center !important;
            align-items: center !important;
            width: 100%;
        }
        .interest-row {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 2rem;
            width: 100%;
        }
        .interest-card {
            background: linear-gradient(180deg,#0570a8,#0984c6);
            padding: 2.5rem;
            border-radius: 1.5rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-width: 180px;
            min-height: 180px;
            cursor: pointer;
            box-shadow: 0 10px 32px rgba(2,6,23,0.45);
            isolation: isolate;
            transition: transform 0.3s, box-shadow 0.3s;
            margin: 0 0.5rem;
        }
        .interest-card img { width: 64px; height: 64px; filter: invert(1); }
        .interest-card p { margin-top: 1.25rem; color: #fff; font-weight:700; font-size:1.35rem; }
        .interest-card.selected, .interest-card:hover {
            animation: interest-bounce 0.6s;
            box-shadow: 0 0 0 6px #3B82F6, 0 10px 32px rgba(2,6,23,0.45);
            transform: scale(1.08);
        }
        @keyframes interest-bounce {
            0% { transform: scale(1); }
            30% { transform: scale(1.12); }
            60% { transform: scale(0.96); }
            100% { transform: scale(1.08); }
        }
        @media (max-width: 1024px) {
            .interest-card { min-width: 160px; min-height: 160px; padding: 2rem; }
            .interest-card img { width: 56px; height: 56px; }
            .interest-row { gap: 1.5rem; }
        }
        @media (max-width: 768px) {
            .interest-row { flex-direction: column; gap: 1rem; }
        }
        @media (max-width: 480px) {
            .interest-card { min-width: 100%; min-height: 120px; padding: 1.25rem; }
            .interest-card img { width: 40px; height: 40px; }
        }
        .heart-icon {
            display: inline-block;
            vertical-align: middle;
            margin-right: 0.5rem;
            width: 1.5em;
            height: 1.5em;
        }
        .heart-icon--small { width: 1.1em; height: 1.1em; }
        /* Skill bar hover effects */
        .skill-bar { position: relative; overflow: hidden; border-radius: 9999px; }
        .skill-bar .skill-fill { position: relative; z-index:1; transition: width .9s cubic-bezier(.4,0,.2,1), filter .4s, transform .4s; }
        .skill-bar::after { content:''; position:absolute; inset:0; background:linear-gradient(120deg,rgba(255,255,255,0.15),rgba(255,255,255,0)); opacity:0; transition:opacity .5s; pointer-events:none; }
        .skill-bar:hover::after { opacity:1; animation: sheen 1s ease; }
        .skill-bar:hover .skill-fill { filter: brightness(1.25) saturate(1.2); transform: translateY(-1px); }
        @keyframes sheen { 0% { transform: translateX(-60%); } 100% { transform: translateX(120%); } }
        /* Zoom effect for each skill row */
        .skill-item { transition: transform .35s cubic-bezier(.4,0,.2,1), filter .35s; will-change: transform; }
        .skill-item:hover { transform: scale(1.04); filter: brightness(1.08); }
        /* Education cards & diploma modal */
        .education-card { transition: transform .35s ease, box-shadow .4s ease; cursor: pointer; position:relative; }
        .education-card:hover { transform: translateY(-6px) scale(1.02); box-shadow: 0 16px 40px -10px rgba(0,0,0,.55); }
        #diploma-modal { animation: fadeIn .35s ease; }
        @keyframes fadeIn { from { opacity:0; } to { opacity:1; } }
        #diploma-modal .modal-panel { animation: pop .35s cubic-bezier(.4,0,.2,1); }
        @keyframes pop { 0% { transform: scale(.92); opacity:0; } 100% { transform: scale(1); opacity:1; } }
        #diploma-modal iframe { background:#0f172a; }
        /* Music panel */
        .music-panel {
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translate(-50%, 12px);
            background: #0f1e33;
            border: 1px solid #1e293b;
            padding: 1rem 1.25rem;
            border-radius: 1rem;
            width: 260px;
            box-shadow: 0 12px 32px rgba(0,0,0,0.5);
            z-index: 20;
            animation: fadeSlide 0.35s ease;
        }
        .music-panel.hidden { display: none; }
        .music-panel .panel-title { font-size: 0.95rem; letter-spacing: .05em; text-transform: uppercase; color:#93c5fd; margin-bottom: .75rem; font-weight:600; }
        .artist-list { list-style: none; margin:0; padding:0; display:flex; flex-direction:column; gap:.4rem; }
        .artist-list li { padding:.45rem .6rem; border-radius:.5rem; cursor:pointer; font-size:.9rem; background:rgba(255,255,255,0.03); color:#e2e8f0; transition: background .25s, transform .25s; position:relative; }
        .artist-list li:hover { background: #1e3a8a; transform: translateX(4px); }
        @keyframes fadeSlide { from { opacity:0; transform: translate(-50%,0); } to { opacity:1; transform: translate(-50%,12px);} }
        @media (max-width:640px){ .music-panel { left:0; transform: translate(0,12px); width: 220px; } }
    /* Variable table quick panel */
    #table-panel { animation: fadeIn 0.25s ease; }
    #table-panel video { cursor:pointer; }
    #table-panel:hover { border-color: #0ea5e9; }
    #table-panel h4 { letter-spacing:.05em; }
    /* Playing zoom effect */
    .video-zoom-playing { transform: scale(1.05); transition: transform .6s ease; }
    .video-zoom-playing:hover { transform: scale(1.09); }
    /* Car wind tunnel sequence */
    #car-panel { animation: fadeIn 0.25s ease; }
    #car-panel img { object-fit: cover; }
    #car-panel img.loaded { opacity:1 !important; }
    .car-fade { opacity:0; }
    .car-fade.loaded { opacity:1; }
        /* Car panel thumbnail expansion */
        #car-panel .car-thumb-container { position:relative; }
        #car-panel .car-thumb-container img { 
            width:160px; /* small preview */
            height:auto;
            max-height:110px;
            object-fit:cover;
            transition: all .45s ease;
            cursor:pointer;
            border-radius:0.5rem;
            box-shadow:0 0 0 1px rgba(255,255,255,0.05);
        }
        #car-panel .car-thumb-container:hover img {
            width:100%;
            max-height:none;
            box-shadow:0 4px 18px -4px rgba(0,0,0,0.6);
        }
        /* Center thumbnails and allow figure to expand */
        #car-panel .flex.flex-col { align-items:center; }
        #car-panel .car-thumb-container { margin:0 auto; width:auto; transition: width .45s ease; }
        #car-panel .car-thumb-container:hover { width:100%; }
        #car-panel .car-thumb-container figcaption { 
            font-size:10px; 
            letter-spacing:.05em; 
            text-transform:uppercase; 
            background:rgba(15,23,42,0.7);
            padding:4px 6px; 
            border-radius:4px; 
            position:absolute; 
            top:6px; left:6px;
        }
        #car-panel { max-height:80vh; overflow:auto; }
        /* Portfolio card custom darker blue for visibility in light mode */
        .portfolio-card-custom {
            background: linear-gradient(145deg,#0f2744,#133556 55%,#0d1e33);
            border: 1px solid rgba(59,130,246,0.35);
            position: relative;
        }
        .portfolio-card-custom:hover { border-color:#38bdf8; }
        .light .portfolio-card-custom {
            background: linear-gradient(145deg,#1e3a5c,#21476e 55%,#1a3352);
            border-color: rgba(30,64,175,0.55);
        }
        .light .portfolio-card-custom:hover { border-color:#0ea5e9; }
        .portfolio-card-custom::before {
            content:"";
            position:absolute; inset:0; border-radius:0.75rem; pointer-events:none;
            background:radial-gradient(circle at 28% 22%,rgba(255,255,255,0.08),transparent 60%);
            opacity:0; transition:opacity .4s ease;
        }
        .portfolio-card-custom:hover::before { opacity:1; }
        /* Fade-in class for smoother initial appearance */
        .fade-in {
            opacity: 0;
            animation: fadeIn 0.6s forwards;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }
    </style>
</head>
<body class="antialiased fade-in">
    <header id="header" class="bg-slate-950/80 backdrop-blur-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-xl md:text-2xl font-bold text-slate-200">Gil Nava Zaragoza</h1>
            <ul class="hidden md:flex space-x-6">
                <li><a href="#professional-summary" class="font-medium text-slate-400 hover:text-white transition-colors">Summary</a></li>
                <li><a href="#experience" class="font-medium text-slate-400 hover:text-white transition-colors">Experience</a></li>
                <li><a href="#skills" class="font-medium text-slate-400 hover:text-white transition-colors">Skills</a></li>
                <li><a href="#education" class="font-medium text-slate-400 hover:text-white transition-colors">Education</a></li>
                <li><a href="#interests" class="font-medium text-slate-400 hover:text-white transition-colors">Interests</a></li>
                <li><a href="#freelancer-portfolio" class="font-medium text-slate-400 hover:text-white transition-colors">FreeLancer Portafolio</a></li>
            </ul>
            <div class="flex items-center gap-3">
                <button id="theme-toggle" aria-label="Toggle theme" title="Toggle light / dark mode" class="inline-flex">
                    <svg id="theme-icon" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" /></svg>
                    <span class="sr-only">Toggle theme</span>
                </button>
                <button id="open-contact-modal" class="hidden md:inline-block bg-sky-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-sky-700 transition-colors">Contact</button>
            </div>
            <div class="md:hidden">
                <button id="menu-btn" class="text-slate-200 focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden">
            <a href="#professional-summary" class="block py-2 px-4 text-sm text-slate-200 hover:bg-slate-800">Summary</a>
            <a href="#experience" class="block py-2 px-4 text-sm text-slate-200 hover:bg-slate-800">Experience</a>
            <a href="#skills" class="block py-2 px-4 text-sm text-slate-200 hover:bg-slate-800">Skills</a>
            <a href="#education" class="block py-2 px-4 text-sm text-slate-200 hover:bg-slate-800">Education</a>
            <a href="#interests" class="block py-2 px-4 text-sm text-slate-200 hover:bg-slate-800 flex items-center"><svg class="heart-icon" viewBox="0 0 24 24" fill="red" xmlns="http://www.w3.org/2000/svg"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41 0.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>Interests</a>
            <a href="#freelancer-portfolio" class="block py-2 px-4 text-sm text-slate-200 hover:bg-slate-800">FreeLancer Portafolio</a>
            <button id="open-contact-modal-mobile" class="w-full text-left block py-2 px-4 text-sm text-slate-200 hover:bg-slate-800">Contact</button>
        </div>
    </header>
    <main class="container mx-auto px-6 py-12 md:py-20">
        <section id="summary" class="mb-16 md:mb-24 bg-slate-900 rounded-xl shadow-md py-12">
            <div class="flex flex-col md:flex-row items-center justify-center gap-12 max-w-5xl mx-auto">
                <div class="flex-shrink-0 flex justify-center items-center">
                    <img src="GNZ-CSAP.jpg" alt="Profile" class="profile-pic" />
                </div>
                <div class="flex-1 flex flex-col justify-center items-center">
                    <h2 id="professional-summary" class="text-4xl font-bold text-slate-200 mb-6 text-center">
                        <span class="inline-block align-middle" style="margin-right:0.5rem;vertical-align:middle;">
                            <img src="summary.png" alt="Summary Logo" style="height:48px;width:auto;display:inline-block;vertical-align:middle;" />
                        </span>
                        Professional Summary
                    </h2>
                    <p class="text-slate-300 text-lg leading-relaxed max-w-2xl text-justify">
                        Automotive systems engineer with 7+ years of experience in vehicle launches and system integration, specializing in software validation, controls, and automation. Proficient in programming and scripting with Python, MATLAB/Simulink, and C for developing diagnostic tools, automating test procedures, and analyzing large data sets. Skilled in CAD/CAE modeling, simulation, and validation, with hands-on expertise in troubleshooting complex embedded systems and control software. Strong background in powertrain calibration, infotainment connectivity, and switch/steering applications. Passionate about leveraging programming and software tools to optimize processes, reduce costs, and deliver reliable solutions in the automotive and technology industries.
                    </p>
                </div>
            </div>
        </section>
        <section id="experience" class="mb-16 md:mb-24">
            <h2 class="text-3xl md:text-4xl font-bold text-slate-200 mb-12 text-center">
                <span class="inline-block align-middle" style="margin-right:0.5rem;vertical-align:middle;">
                    <img src="career.png" alt="Career Journey Logo" style="height:48px;width:auto;display:inline-block;vertical-align:middle;" />
                </span>
                Career Journey
            </h2>
            <div class="flex flex-col md:flex-row gap-12">
                <div class="w-full md:w-1/3">
                    <div id="timeline" class="relative border-l-4 border-slate-800 ml-9">
                    </div>
                </div>
                <div class="w-full md:w-2/3">
                    <div id="experience-details" class="bg-slate-900 p-8 rounded-xl shadow-md transition-all duration-500 min-h-[300px]">
                    </div>
                </div>
            </div>
        </section>
        <section id="skills" class="mb-16 md:mb-24">
            <h2 class="text-3xl md:text-4xl font-bold text-slate-200 mb-4 text-center">
                <span class="inline-block align-middle" style="margin-right:0.5rem;vertical-align:middle;">
                    <img src="Skills.jpg" alt="Skills Logo" style="height:48px;width:auto;display:inline-block;vertical-align:middle;" />
                </span>
                Skills & Expertise
            </h2>
            <div class="flex flex-col md:flex-row gap-4 bg-slate-900 p-4 rounded-xl shadow-md max-w-full mx-auto">
                <!-- CAD & CAE Simulation Skills -->
                <div class="flex-1 min-w-[180px] max-w-xs p-2">
                    <h3 class="text-lg font-semibold text-slate-200 mb-2 text-center">CAD & CAE Simulation</h3>
                    <div class="space-y-2">
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>3DX</span><span>60%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-blue-500 h-2 rounded-full" style="width:60%"></div></div></div>
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>Abaqus</span><span>70%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-blue-500 h-2 rounded-full" style="width:70%"></div></div></div>
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>Adams</span><span>60%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-blue-500 h-2 rounded-full" style="width:60%"></div></div></div>
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>Ansys</span><span>50%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-blue-500 h-2 rounded-full" style="width:50%"></div></div></div>
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>Catia V5</span><span>75%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-blue-500 h-2 rounded-full" style="width:75%"></div></div></div>
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>NX</span><span>75%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-blue-500 h-2 rounded-full" style="width:75%"></div></div></div>
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>Solidworks</span><span>70%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-blue-500 h-2 rounded-full" style="width:70%"></div></div></div>
                    </div>
                </div>
                <!-- Personal (Soft) Skills -->
                <div class="flex-1 min-w-[180px] max-w-xs p-2">
                    <h3 class="text-lg font-semibold text-slate-200 mb-2 text-center">Personal</h3>
                    <div class="space-y-2">
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>Communication</span><span>80%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-green-500 h-2 rounded-full" style="width:80%"></div></div></div>
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>Teamwork</span><span>90%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-green-500 h-2 rounded-full" style="width:90%"></div></div></div>
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>Creativity</span><span>90%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-green-500 h-2 rounded-full" style="width:90%"></div></div></div>
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>Leadership</span><span>90%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-green-500 h-2 rounded-full" style="width:90%"></div></div></div>
						<div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>Dedication</span><span>100%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-green-500 h-2 rounded-full" style="width:100%"></div></div></div>
                    </div>
                </div>
                <!-- Software and Validation Skills -->
                <div class="flex-1 min-w-[180px] max-w-xs p-2">
                    <h3 class="text-lg font-semibold text-slate-200 mb-2 text-center">Software and Validation</h3>
                    <div class="space-y-2">
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>CANalyzer</span><span>75%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-purple-500 h-2 rounded-full" style="width:75%"></div></div></div>
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>Candela Studio</span><span>60%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-purple-500 h-2 rounded-full" style="width:60%"></div></div></div>
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>Chrysler Diagnostic Application Tool</span><span>50%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-purple-500 h-2 rounded-full" style="width:50%"></div></div></div>
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>Ford Diagnostic Engineering Tool</span><span>75%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-purple-500 h-2 rounded-full" style="width:75%"></div></div></div>
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>Ford HMI</span><span>80%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-purple-500 h-2 rounded-full" style="width:80%"></div></div></div>
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>Matlab</span><span>40%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-purple-500 h-2 rounded-full" style="width:40%"></div></div></div>
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>Simulink</span><span>30%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-purple-500 h-2 rounded-full" style="width:30%"></div></div></div>
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>Teamcenter</span><span>75%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-purple-500 h-2 rounded-full" style="width:75%"></div></div></div>
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>WERS</span><span>75%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-purple-500 h-2 rounded-full" style="width:75%"></div></div></div>
                    </div>
                </div>
                <!-- Programming and Tools -->
                <div class="flex-1 min-w-[180px] max-w-xs p-2">
                    <h3 class="text-lg font-semibold text-slate-200 mb-2 text-center">Programming and Tools</h3>
                    <div class="space-y-2">
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>Ford Telematics Cloud Protocol</span><span>30%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-yellow-500 h-2 rounded-full" style="width:30%"></div></div></div>
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>Github</span><span>70%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-yellow-500 h-2 rounded-full" style="width:70%"></div></div></div>
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>IntelliJ</span><span>60%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-yellow-500 h-2 rounded-full" style="width:60%"></div></div></div>
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>Matlab</span><span>40%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-yellow-500 h-2 rounded-full" style="width:40%"></div></div></div>
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>Python</span><span>50%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-yellow-500 h-2 rounded-full" style="width:50%"></div></div></div>
                    </div>
                </div>
                <!-- Methodologies -->
                <div class="flex-1 min-w-[180px] max-w-xs p-2">
                    <h3 class="text-lg font-semibold text-slate-200 mb-2 text-center">Methodologies</h3>
                    <div class="space-y-2">
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>Six Sigma</span><span>80%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-red-500 h-2 rounded-full" style="width:80%"></div></div></div>
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>5D / 8D</span><span>80%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-red-500 h-2 rounded-full" style="width:80%"></div></div></div>
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>Ishikawa</span><span>80%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-red-500 h-2 rounded-full" style="width:80%"></div></div></div>
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>Agile</span><span>80%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-red-500 h-2 rounded-full" style="width:80%"></div></div></div>
                        <div><div class="flex justify-between text-slate-400 text-xs mb-1"><span>Scrum Master</span><span>80%</span></div><div class="w-full bg-slate-800 rounded-full h-2"><div class="bg-red-500 h-2 rounded-full" style="width:80%"></div></div></div>
                    </div>
                </div>
            </div>
        </section>
        <section id="education" class="mb-16 md:mb-24">
            <h2 class="text-3xl md:text-4xl font-bold text-slate-200 mb-8 text-center">
                <span class="inline-block align-middle" style="margin-right:0.5rem;vertical-align:middle;">
                    <img src="hat.jpg.png" alt="Graduation Hat Logo" style="height:48px;width:auto;display:inline-block;vertical-align:middle;" />
                </span>
                Education
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                <div id="masters-card" class="education-card bg-slate-900 p-6 rounded-xl shadow-md text-center flex flex-col items-center" tabindex="0">
                     <h3 class="text-xl font-semibold text-slate-200 mb-2">Master's Degree, Engineering Business Management</h3>
                     <p class="text-slate-400 mt-1">
                         <img src="Anahuac logo.png" alt="Anahuac Logo" style="width:32px;height:32px;display:inline-block;vertical-align:middle;margin-right:0.5rem;" />
                         Universidad Anáhuac México Norte
                     </p>
                     <p class="text-slate-400 font-medium mt-2">2023 - 2025</p>
                 </div>
                <div id="auto-systems-card" class="education-card bg-slate-900 p-6 rounded-xl shadow-md text-center flex flex-col items-center" tabindex="0" title="View Diploma">
                     <h3 class="text-xl font-semibold text-slate-200 mb-2">Automotive Systems Engineer</h3>
                     <p class="text-slate-400 mt-1">
                         <img src="ipn.png" alt="IPN Logo" style="width:48px;height:32px;display:inline-block;vertical-align:middle;margin-right:0.5rem;object-fit:contain;" />
                         Instituto Politécnico Nacional
                     </p>
                     <p class="text-slate-400 font-medium mt-2">2013 - 2017</p>
                     <p class="mt-3 text-sm text-sky-400 font-medium animate-pulse select-none pointer-events-none">Click here to show degree</p>
                 </div>
             </div>
         </section>
        <!-- Diploma Modal -->
        <div id="diploma-modal" class="fixed inset-0 bg-slate-950/80 backdrop-blur-sm hidden z-50 flex justify-center items-center p-4" aria-modal="true" role="dialog" aria-labelledby="diploma-title">
            <div class="modal-panel bg-slate-900 p-6 rounded-xl shadow-lg relative max-w-3xl w-full border border-slate-800">
                <button id="close-diploma" class="absolute top-4 right-4 text-slate-400 hover:text-slate-200 transition-colors" aria-label="Close diploma viewer">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
                <h3 id="diploma-title" class="text-2xl font-bold text-slate-200 mb-4 text-center">Automotive Systems Engineer Diploma</h3>
                <div class="w-full h-[70vh]">
                    <iframe id="diploma-frame" class="w-full h-full rounded-lg" title="Diploma PDF" loading="lazy" frameborder="0"></iframe>
                </div>
                <p class="text-xs text-slate-500 mt-2 text-center">If the PDF does not display, <a id="diploma-direct" href="GNZ_ Automotive Engineering_Title_Diploma.pdf" target="_blank" class="text-sky-400 underline">open it in a new tab</a>.</p>
            </div>
        </div>
        <section id="interests" class="mb-16 md:mb-24">
            <h2 class="text-4xl font-bold text-slate-200 mb-6 text-center"><span class="inline-block align-middle"><svg class="heart-icon heart-icon--small" viewBox="0 0 24 24" fill="red" xmlns="http://www.w3.org/2000/svg" aria-label="Heart icon"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41 0.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg></span>Interests</h2>
            <p class="text-center text-slate-200 text-lg max-w-3xl mx-auto mb-8">First of all I love music; techno and classic music are my favorites. Enjoy watching movies and playing videogames with my buddies. I spend much of my free time learning new things and exploring creative projects.</p>
            <div class="interest-row">
                <div class="interest-action-block">
                    <div class="interest-card anim-1" id="music-card">
                        <img src="Images for CV/music.svg" alt="Music" />
                        <p>Music</p>
                        <div id="music-panel" class="music-panel hidden">
                            <h4 class="panel-title">Favorite Artists</h4>
                            <ul class="artist-list">
                                <li data-artist="beatles">The Beatles</li>
                                <li data-artist="beegees">Bee Gees</li>
                                <li data-artist="drake">Drake</li>
                                <li data-artist="marco">Marco Antonio Solís</li>
                                <li data-artist="weeknd">The Weeknd</li>
                                <li data-artist="postmalone">Post Malone</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="interest-action-block">
                    <div class="interest-card anim-2">
                        <img src="Images for CV/xbox.svg" alt="Gaming" />
                        <p>Gaming</p>
                    </div>
                </div>
                <div class="interest-action-block">
                    <div class="interest-card anim-3">
                        <img src="Images for CV/camaron.svg" alt="Photography" />
                        <p>Photography</p>
                    </div>
                </div>
                <div class="interest-action-block">
                    <div class="interest-card anim-4">
                        <img src="Images for CV/tenis.svg" alt="Tennis" />
                        <p>Tennis</p>
                    </div>
                </div>
                <div class="interest-action-block">
                    <div class="interest-card anim-5">
                        <img src="Images for CV/plane.svg" alt="Traveling" />
                        <p>Traveling</p>
                    </div>
                </div>
                <div class="interest-action-block">
                    <div class="interest-card anim-6">
                        <img src="Images for CV/film.svg" alt="Movies" />
                        <p>Movies</p>
                    </div>
                </div>
            </div>
        </section>
        <section id="freelancer-portfolio" class="mb-16 md:mb-24">
            <h2 class="text-3xl md:text-4xl font-bold text-slate-200 mb-8 text-center">FreeLancer Portafolio</h2>
            <div class="max-w-5xl mx-auto grid gap-8 md:grid-cols-2 lg:grid-cols-3">
                <div class="group relative portfolio-card-custom rounded-xl p-5 transition-colors cursor-pointer portfolio-card" data-portfolio="motorcycle">
                    <h3 class="text-lg font-semibold text-slate-100 mb-2">Concept design of a motorcycle</h3>
                    <p class="text-slate-400 text-sm leading-relaxed">Conceptual CAD assembly modeling and visualization of a custom bike. Click to preview renders.</p>
                    <span class="inline-block mt-3 text-xs tracking-wide text-sky-400/80">CATIA • CAD • Visualization</span>
                    <div class="absolute inset-0 rounded-xl pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity bg-gradient-to-br from-sky-500/10 to-transparent"></div>
                </div>
                <div id="variable-table-card" class="group relative portfolio-card-custom rounded-xl p-5 transition-colors cursor-pointer">
                    <h3 class="text-lg font-semibold text-slate-100 mb-2">Variable height table</h3>
                    <p class="text-slate-400 text-sm leading-relaxed">Adjustable elevation table concept. Hover to preview assets, click to play video. Includes mechanical drawing PDF.</p>
                    <span class="inline-block mt-3 text-xs tracking-wide text-sky-400/80">Mechanism • CAD • Prototype</span>
                    <div class="absolute inset-0 rounded-xl pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity bg-gradient-to-br from-sky-500/10 to-transparent"></div>
                    <!-- Hover panel -->
                    <div id="table-panel" class="hidden absolute left-1/2 top-full mt-3 w-[380px] -translate-x-1/2 bg-slate-900/95 border border-slate-700 rounded-xl shadow-lg p-4 z-30">
                        <h4 class="text-xs font-semibold uppercase tracking-wide text-sky-400 mb-2">Quick View</h4>
                        <div class="space-y-3">
                            <div class="aspect-video w-full bg-slate-800/60 rounded-lg flex items-center justify-center overflow-hidden">
                                <video id="table-video" class="w-full h-full object-cover" preload="none" controlslist="nodownload" tabindex="-1" muted>
                                    <source data-src="Mesa.mp4" type="video/mp4" />
                                    Your browser does not support HTML5 video.
                                </video>
                            </div>
                            <div class="w-full h-40 bg-slate-800/40 rounded-lg overflow-hidden relative">
                                <iframe id="table-pdf-frame" class="w-full h-full" title="Variable height table drawings" loading="lazy"></iframe>
                                <div class="absolute inset-0 flex items-center justify-center text-xs text-slate-400" id="table-pdf-loading">Loading PDF...</div>
                            </div>
                            <a id="table-pdf-link" href="Planos mesa elevadora.pdf" target="_blank" class="block text-center text-xs text-sky-400 underline">Open drawings in new tab</a>
                            <p class="text-[10px] text-slate-500 text-center">Hover shows preview. Click card or video to play.</p>
                        </div>
                    </div>
                </div>
                <div id="car-windtunnel-card" class="group relative portfolio-card-custom rounded-xl p-5 transition-colors cursor-pointer">
                    <h3 class="text-lg font-semibold text-slate-100 mb-2">Concept car wind tunnel testing - Fluent - Ansys</h3>
                    <p class="text-slate-400 text-sm leading-relaxed">Aerodynamic surface modeling and CFD (ANSYS Fluent) flow visualization. Hover to preview sequence.</p>
                    <span class="inline-block mt-3 text-xs tracking-wide text-sky-400/80">Surface Modeling • CFD • ANSYS</span>
                    <div class="absolute inset-0 rounded-xl pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity bg-gradient-to-br from-sky-500/10 to-transparent"></div>
                    <!-- Hover sequence panel -->
                    <div id="car-panel" class="hidden absolute left-1/2 top-full mt-3 w-[720px] max-w-[90vw] -translate-x-1/2 bg-slate-900/95 border border-slate-700 rounded-xl shadow-lg p-5 z-30">
                        <h4 class="text-xs font-semibold uppercase tracking-wide text-sky-400 mb-4">CFD Assets (Original Size Preview)</h4>
                        <div class="flex flex-col gap-5">
                            <figure class="car-thumb-container">
                                <img data-car-img="0" src="" alt="Car surface model" class="opacity-0 transition-all duration-500 ease-out" />
                                <figcaption>Surface</figcaption>
                            </figure>
                            <figure class="car-thumb-container">
                                <img data-car-img="1" src="" alt="Car with wheels integrated" class="opacity-0 transition-all duration-500 ease-out" />
                                <figcaption>Wheels</figcaption>
                            </figure>
                            <figure class="car-thumb-container">
                                <img data-car-img="2" src="" alt="CFD result" class="opacity-0 transition-all duration-500 ease-out" />
                                <figcaption>CFD</figcaption>
                            </figure>
                        </div>
                        <p class="mt-4 text-[11px] text-slate-400 text-center">Hover an image to expand to original size; others remain as thumbnails.</p>
                    </div>
                </div>
            </div>
            
        </section>
        <!-- Portfolio Image Modal -->
        <div id="portfolio-modal" class="fixed inset-0 bg-slate-950/85 backdrop-blur-sm hidden z-50 flex justify-center items-center p-4" role="dialog" aria-modal="true" aria-labelledby="portfolio-modal-title">
            <div class="relative bg-slate-900 border border-slate-800 rounded-xl shadow-xl max-w-5xl w-full p-6 flex flex-col gap-4">
                <button id="close-portfolio" class="absolute top-4 right-4 text-slate-400 hover:text-slate-200" aria-label="Close image viewer">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
                <h3 id="portfolio-modal-title" class="text-2xl font-bold text-slate-200 text-center">Concept design of a motorcycle</h3>
                <div class="grid md:grid-cols-2 gap-4">
                    <figure class="bg-slate-800/40 rounded-lg overflow-hidden border border-slate-700">
                        <img src="Moto1.jpg" alt="Motorcycle CAD front view" class="w-full h-full object-cover" loading="lazy" />
                        <figcaption class="text-xs text-slate-400 p-2 text-center">Front view render</figcaption>
                    </figure>
                    <figure class="bg-slate-800/40 rounded-lg overflow-hidden border border-slate-700">
                        <img src="Moto2.jpg" alt="Motorcycle CAD perspective view" class="w-full h-full object-cover" loading="lazy" />
                        <figcaption class="text-xs text-slate-400 p-2 text-center">Perspective view render</figcaption>
                    </figure>
                </div>
                <p class="text-xs text-slate-500 text-center">Images: Concept assembly modeling (CATIA V5).</p>
            </div>
        </div>
    </main>
    <!-- Modal for Contact Information -->
    <div id="contact-modal" class="fixed inset-0 bg-slate-950/80 backdrop-blur-sm hidden z-50 flex justify-center items-center p-4">
        <div class="bg-slate-900 p-8 rounded-xl shadow-lg relative max-w-sm w-full border border-slate-800">
            <button id="close-modal" class="absolute top-4 right-4 text-slate-400 hover:text-slate-200 transition-colors">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
            <h3 class="text-2xl font-bold text-slate-200 mb-6 text-center">Contact Information</h3>
            <div class="flex flex-col items-center gap-6">
                <a href="mailto:gilnavazaragoza@gmail.com" class="font-semibold text-slate-200 hover:text-white transition-colors flex items-center">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884zM18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
                    </svg>
                    gilnavazaragoza@gmail.com
                </a>
                <a href="tel:+527449090832" class="font-semibold text-slate-200 hover:text-white transition-colors flex items-center">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.741 4.451a1 1 0 01-.54 1.06l-1.548.774a11.096 11.096 0 005.432 5.432l.774-1.548a1 1 0 011.06-.54l4.451.741a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"></path>
                    </svg>
                    +527449090832
                </a>
            </div>
        </div>
    </div>
    <footer id="footer" class="bg-slate-900 mt-16 md:mt-24">
        <div class="container mx-auto px-6 py-8 text-center text-slate-400">
            <div class="flex flex-col items-center gap-2">
                <p class="text-lg font-semibold">Let's connect</p>
                <p class="max-w-prose">I'm always open to discussing new opportunities and challenges in the automotive industry.</p>
                <a href="https://www.linkedin.com/in/GilNavaZaragoza" target="_blank" class="flex items-center gap-2 text-slate-400 hover:text-white transition-colors">
                    <!-- Improved LinkedIn SVG logo -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 32 32" fill="currentColor">
                        <rect x="2" y="2" width="28" height="28" rx="6" fill="#0A66C2" />
                        <path d="M10.5 13.5h3v8h-3v-8zm1.5-4a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm4 4h2.8v1.1h.04c.39-.74 1.34-1.51 2.76-1.51 2.95 0 3.5 1.94 3.5 4.47v4.93h-3v-4.38c0-1.04-.02-2.38-1.45-2.38-1.45 0-1.67 1.13-1.67 2.3v4.46h-3v-8z" fill="#fff" />
                    </svg>
                    <span class="font-semibold text-slate-200 ml-2">GilNavaZaragoza</span>
                </a>
            </div>
        </div>
    </footer>
    <script>
        const experienceData = [
            {
                id: 'ford-switches',
                company: 'Ford',
                role: 'Switches Applications Engineer',
                period: 'November 2023 - Present',
                details: [
                    'Manage five vehicle line projects, resolving issues related to switch application systems across current and new models, improving on-time quality delivery by 25%.',
                    'Develop and implement cost and complexity reduction initiatives for switches, increasing assembly line efficiency and saving over $2.5M per year during production phases.',
                    'Generate and present ICA/PCA alternative matrix analyses to senior management, strategically mitigating body interior switch-related build stoppages.',
                    'Lead the 25MY new model launch at the Ohio and Kentucky Truck Assembly Plants (8 months in Louisville, KY; 4 months in Cleveland, OH).',
                    'Direct cross-functional body interior assessments (Appearance Approval, Blue Tag, and Studio reviews), ensuring cockpit and interior harmony and compliance.',
                    'Audit bill of materials (BOM) and manage change control to maintain product accuracy and compliance.'
                ]
            },
            {
                id: 'ford-steering',
                company: 'Ford',
                role: 'Steering Applications Engineer',
                period: 'November 2022 - November 2023',
                details: [
                    'Collaborate with counterparts in Ford North America and Ford of Europe to validate, launch, and maintain Electric Power Assisted Steering (EPAS) systems, including steering column, intermediate shaft, floor seal, gear & linkage assembly, and heat shield.',
                    'Monitor warranty performance of steering components, driving design improvements to resolve issues and prevent recurrence.',
                    'Identify cost-saving opportunities within components and implement more efficient solutions in partnership with suppliers (Bosch, ZF, Thyssenkrupp).',
                    'Coordinate bill of materials (BOM) and change control for delegated parts, ensuring accuracy and compliance.',
                    'Analyze the impact of proposed design and production changes on system performance and compliance with engineering standards.',
                    'Contribute to the successful implementation of EPAS running change screws in current vehicle production at the Hermosillo Stamping & Assembly Plant (4 months supporting new model launches).',
                    'Develop innovation disclosures to enhance current product designs.'
                ]
            },
            {
                id: 'ford-powertrain',
                company: 'Ford',
                role: 'Powertrain Controls Engineer',
                period: 'June 2021 - November 2022',
                details: [
                    'Integrate sub-system calibrations for high-performance ICE and EV propulsion software, ensuring compliance with global emissions standards for Ford and Lincoln vehicles.',
                    'Support and develop powertrain calibrations for ECU-controlled actuators and sensors (PCM, TCM, DLCM) using Candela Studio and CANape Vector tools.',
                    'Optimize the calibration process by designing and implementing Python-based GUIs, reducing calibration time by 25%.',
                    'Manage and maintain project tools to support collaborative data analysis initiatives.'
                ]
            },
            {
                id: 'ford-infotainment',
                company: 'Ford',
                role: 'Infotainment and Connectivity Engineer',
                period: 'May 2018 - October 2020',
                details: [
                    'Verify connectivity of multiple ECUs (TCU, IPC, SYNC, APIM, BCM) in alignment with Ford and Lincoln electronic architectures and global specifications.',
                    'Identify software defects for the FordPass app through root cause analysis and defect classification.',
                    'Validate, report, and track infotainment software bugs with suppliers using communication protocols (CAN, CAN FD, Ethernet, LIN, HS, MS).',
                    'Assess software engineering changes resulting from issues found in prior authentication rounds.',
                    'Support and mentor junior engineers through training and technical guidance.'
                ]
            },
            {
                id: 'stellantis-eps',
                company: 'Stellantis',
                role: 'EPS Design and Release Engineer',
                period: 'October 2020 - June 2021',
                details: [
                    'Lead Electronic Power Steering (EPS) software readiness, coordinating with suppliers and product engineers to ensure quality in software releases, flashing processes, material traceability, updates, and calibrations.',
                    'Develop, analyze, and validate DVP&R (Design Verification Plan & Report) in collaboration with steering suppliers (ZF, Nexteer).',
                    'Support End-of-Line and Vehicle Dynamics teams with EPS module calibration.',
                    'Provide chassis engineering support during prototype pilot launches at the Saltillo Van Assembly Plant, implementing ICA/PCA solutions for steering and chassis issues on RAM ProMaster ICE/EV (2023) and RAM 1500/2500 (2023).',
                    'Audit and update Bill of Materials (BOM) to reflect engineering changes (DCR / TVM / SQ), ensuring correct part levels and usage.'
                ]
            }
        ];
        const certificationsData = [
            { name: '6-Sigma Green Belt', icon: '&#10004;' },
            { name: 'HEV Electrified Powertrain Calibration', icon: '&#9881;' },
            { name: 'International Software Testing Qualifications Board', icon: '&#128220;' },
            { name: 'Agile / Scrum Master', icon: '&#128260;' }
        ];
        const skillsData = {
            labels: ['CAD/CAE & Simulation', 'Software & Validation', 'Programming & Tools', 'Methodologies'],
            datasets: [{
                label: 'Skills',
                data: [5, 4, 4, 3],
                backgroundColor: '#3B82F6',
                borderColor: '#60A5FA',
                borderWidth: 1,
                borderRadius: 4,
                barThickness: 30,
            }]
        };
        const skillsDetails = [
            ['3DX', 'Abaqus', 'Adams', 'Ansys', 'Catia V5', 'NX', 'Solidworks'],
            ['CANalyzer', 'Candela Studio', 'Chrysler Diagnostic App Tool', 'Ford Diagnostic Engineering Tool', 'Ford HMI', 'Matlab', 'Simulink', 'Teamcenter', 'WERS'],
            ['Ford Telematics Cloud Protocol', 'GitHub', 'IntelliJ', 'Matlab', 'Semi Automatic Testing Tool', 'Simulink', 'Python'],
            ['6-Sigma Green Belt', '8D', '5D', 'Ishikawa', 'Agile', 'Scrum Master']
        ];
        document.addEventListener('DOMContentLoaded', function () {
            // Theme toggle logic
            function applyTheme(theme) {
                const root = document.documentElement;
                const themeIcon = document.getElementById('theme-icon');
                if (theme === 'light') {
                    root.classList.add('light');
                    themeIcon.innerHTML = '<path d="M6.76 4.84l-1.8-1.79L3.17 5.84l1.79 1.79 1.8-2.79zM1 13h3v-2H1v2zm10-9h2V1h-2v3zm7.03 1.05l-1.79-1.79-1.8 1.79 1.79 1.8 1.8-1.8zM17 13h3v-2h-3v2zM12 22c.55 0 1-.45 1-1v-3h-2v3c0 .55.45 1 1 1zM4.24 19.16l1.8 1.79 1.79-1.79-1.79-1.8-1.8 1.8zM12 6a6 6 0 100 12 6 6 0 000-12z"/>';
                } else {
                    root.classList.remove('light');
                    themeIcon.innerHTML = '<path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" />';
                }
                localStorage.setItem('theme', theme);
            }
            const themeToggle = document.getElementById('theme-toggle');
            const themeIcon = document.getElementById('theme-icon');
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
            const initialTheme = savedTheme ? savedTheme : (prefersDark ? 'dark' : 'light');
            applyTheme(initialTheme);
            themeToggle.addEventListener('click', function () {
                const active = document.documentElement.classList.contains('light') ? 'light' : 'dark';
                applyTheme(active === 'light' ? 'dark' : 'light');
            });

            // Career Journey timeline logic
            const timelineContainer = document.getElementById('timeline');
            const detailsContainer = document.getElementById('experience-details');
            // Render timeline items
            timelineContainer.innerHTML = '';
            experienceData.forEach((job, index) => {
                const item = document.createElement('div');
                item.className = `timeline-item relative pl-8 pb-12 cursor-pointer${index === 0 ? ' active' : ''}`;
                item.dataset.id = job.id;
                item.innerHTML = `
                        <h3 class="text-lg font-semibold text-slate-200">${job.role}</h3>
                        <p class="text-md text-slate-400">${job.company}</p>
                        <p class="text-sm text-slate-500">${job.period}</p>
                    `;
                timelineContainer.appendChild(item);
            });
            function updateDetails(id) {
                const job = experienceData.find(j => j.id === id);
                if (job) {
                    detailsContainer.innerHTML = `
                            <h3 class="text-2xl font-bold text-slate-200 mb-2">${job.role}</h3>
                            <p class="text-lg font-medium text-slate-400 mb-1">${job.company}</p>
                            <p class="text-md text-slate-500 mb-6">${job.period}</p>
                            <ul class="space-y-3 list-disc list-inside text-slate-300">
                                ${job.details.map(d => `<li>${d}</li>`).join('')}
                            </ul>
                        `;
                }
            }
            timelineContainer.addEventListener('click', function (e) {
                const targetItem = e.target.closest('.timeline-item');
                if (targetItem) {
                    timelineContainer.querySelectorAll('.timeline-item').forEach(item => item.classList.remove('active'));
                    targetItem.classList.add('active');
                    updateDetails(targetItem.dataset.id);
                }
            });
            updateDetails(experienceData[0].id);

            // Other UI logic (contact modal, mobile menu, certifications)
            const certificationsContainer = document.getElementById('certifications');
            if (certificationsContainer) {
                certificationsContainer.innerHTML = '';
                certificationsData.forEach(cert => {
                    const item = document.createElement('div');
                    item.className = 'bg-slate-900 p-4 rounded-lg shadow-sm flex items-center gap-4';
                    item.innerHTML = `
                            <div class="text-2xl text-slate-400">${cert.icon}</div>
                            <p class="font-semibold text-slate-300">${cert.name}</p>
                        `;
                    certificationsContainer.appendChild(item);
                });
            }
            const mobileMenuBtn = document.getElementById('menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            const openContactModalBtn = document.getElementById('open-contact-modal');
            const openContactModalMobileBtn = document.getElementById('open-contact-modal-mobile');
            const contactModal = document.getElementById('contact-modal');
            const closeModalBtn = document.getElementById('close-modal');
            mobileMenuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
            openContactModalBtn.addEventListener('click', () => {
                contactModal.classList.remove('hidden');
            });
            openContactModalMobileBtn.addEventListener('click', () => {
                contactModal.classList.remove('hidden');
                mobileMenu.classList.add('hidden');
            });
            closeModalBtn.addEventListener('click', () => {
                contactModal.classList.add('hidden');
            });
            contactModal.addEventListener('click', (e) => {
                if (e.target.id === 'contact-modal') {
                    contactModal.classList.add('hidden');
                }
            });

            // Chart.js code
            const ctx = document.getElementById('skillsChart') ? document.getElementById('skillsChart').getContext('2d') : null;
            if (ctx) {
                const skillsChart = new Chart(ctx, {
                    type: 'bar',
                    data: skillsData,
                    options: {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                callbacks: {
                                    label: function (context) {
                                        let label = context.dataset.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        const details = skillsDetails[context.dataIndex];
                                        return details ? details.join(', ') : '';
                                    }
                                },
                                backgroundColor: '#1E293B',
                                titleFont: { size: 14 },
                                bodyFont: { size: 12 },
                                padding: 10,
                                displayColors: false,
                            }
                        },
                        scales: {
                            x: {
                                grid: {
                                    display: false,
                                    drawBorder: false,
                                },
                                ticks: {
                                    display: false,
                                }
                            },
                            y: {
                                grid: {
                                    display: false,
                                    drawBorder: false,
                                },
                                ticks: {
                                    font: {
                                        size: 14,
                                        weight: '500',
                                    },
                                    color: '#94A3B8'
                                }
                            }
                        }
                    }
                });
            }
        });
        // Profile picture animation for 3 seconds on hover
        document.addEventListener('DOMContentLoaded', function () {
            const profilePic = document.querySelector('.profile-pic');
            let pulseTimeout;
            if (profilePic) {
                profilePic.addEventListener('mouseenter', function () {
                    // Apply one-time 2s zoom animation
                    profilePic.style.animation = 'profile-zoom-once 2s ease';
                });
                profilePic.addEventListener('mouseleave', function () {
                    // If user leaves early, reset to normal
                    profilePic.style.animation = '';
                });
                profilePic.addEventListener('animationend', function(e){
                    if(e.animationName === 'profile-zoom-once') {
                        profilePic.style.animation = '';
                    }
                });
            }
            // Interest card selection animation
            document.querySelectorAll('.interest-card').forEach(card => {
                card.addEventListener('mouseenter', function () {
                    card.classList.add('selected');
                });
                card.addEventListener('mouseleave', function () {
                    card.classList.remove('selected');
                });
            });

            // Music panel + audio preview logic
            const musicCard = document.getElementById('music-card');
            const musicPanel = document.getElementById('music-panel');
            let panelHover = false;
            if (musicCard && musicPanel) {
                const showPanel = () => { musicPanel.classList.remove('hidden'); };
                const hidePanel = () => { if(!panelHover) musicPanel.classList.add('hidden'); };
                musicCard.addEventListener('mouseenter', showPanel);
                musicCard.addEventListener('mouseleave', () => setTimeout(hidePanel,150));
                musicPanel.addEventListener('mouseenter', ()=> { panelHover = true; });
                musicPanel.addEventListener('mouseleave', ()=> { panelHover = false; musicPanel.classList.add('hidden'); stopAllAudio(); });
            }

            // Create audio map (placeholders). Replace src with your own short fair-use or licensed clips.
            const artistAudioSources = {
                beatles: 'audio/beatles.mp3',
                beegees: 'audio/beegees.mp3',
                drake: 'audio/drake.mp3',
                marco: 'audio/marco.mp3',
                weeknd: 'audio/weeknd.mp3',
                postmalone: 'audio/postmalone.mp3'
            };
            const audioElements = {};
            Object.entries(artistAudioSources).forEach(([key, src]) => {
                const a = document.createElement('audio');
                a.src = src; // Provide small (<=10s) clip.
                a.preload = 'none';
                audioElements[key] = a;
                document.body.appendChild(a);
            });
            function stopAllAudio(){
                Object.values(audioElements).forEach(a=>{ a.pause(); a.currentTime = 0; });
            }
            const artistList = document.querySelectorAll('#music-panel .artist-list li');
            artistList.forEach(item => {
                 const key = item.getAttribute('data-artist');
                 item.addEventListener('mouseenter', () => {
                     stopAllAudio();
                     const audio = audioElements[key];
                     if (audio) { audio.play().catch(()=>{}); }
                 });
                 item.addEventListener('mouseleave', () => {
                     const audio = audioElements[key];
                     if (audio) { audio.pause(); audio.currentTime = 0; }
                 });
                 item.addEventListener('click', () => {
                     // Toggle play/pause on click for accessibility
                     const audio = audioElements[key];
                     if(audio){
                         if(audio.paused){ stopAllAudio(); audio.play().catch(()=>{}); }
                         else { audio.pause(); audio.currentTime = 0; }
                     }
                 });
             });

             // Enhance skill bars: tag structure for hover effects
             document.querySelectorAll('#skills .w-full.bg-slate-800.rounded-full.h-2').forEach(wrapper => {
                 wrapper.classList.add('skill-bar');
                 const fill = wrapper.querySelector('div');
                 if (fill) fill.classList.add('skill-fill');
                 // Per-bar zoom: use the direct parent that contains the label and this bar (wrapper's parent)
                 const row = wrapper.parentElement; // immediate parent holds label/time pair
                 if (row && !row.classList.contains('skill-item')) {
                     row.classList.add('skill-item');
                 }
             });
            
            // Diploma modal logic
            const diplomaModal = document.getElementById('diploma-modal');
            const diplomaFrame = document.getElementById('diploma-frame');
            const closeDiploma = document.getElementById('close-diploma');
            const autoCard = document.getElementById('auto-systems-card');
            const directLink = document.getElementById('diploma-direct');
            let diplomaLoaded = false;
            function loadDiplomaIfNeeded(){
                if(!diplomaLoaded){
                    const pdfPath = 'GNZ_ Automotive Engineering_Title_Diploma.pdf';
                    diplomaFrame.src = encodeURI(pdfPath);
                    directLink.href = encodeURI(pdfPath);
                    diplomaLoaded = true;
                }
            }
            function openDiploma(){
                if(!diplomaModal) return;
                loadDiplomaIfNeeded();
                diplomaModal.classList.remove('hidden');
                closeDiploma.focus();
            }
            function closeDiplomaModal(){
                if(!diplomaModal) return;
                diplomaModal.classList.add('hidden');
                autoCard && autoCard.focus();
            }
            function toggleDiploma(){
                if(!diplomaModal) return;
                if(diplomaModal.classList.contains('hidden')) openDiploma(); else closeDiplomaModal();
            }
            if(autoCard){
                autoCard.addEventListener('click', (e)=>{ e.preventDefault(); toggleDiploma(); });
                autoCard.addEventListener('keydown', (e)=>{
                    if(e.key === 'Enter' || e.key === ' '){
                        e.preventDefault();
                        toggleDiploma();
                    }
                });
            }
            if(closeDiploma){
                closeDiploma.addEventListener('click', (e)=>{ e.preventDefault(); closeDiplomaModal(); });
            }
            if(diplomaModal){
                diplomaModal.addEventListener('click', (e)=> { if(e.target.id === 'diploma-modal') closeDiplomaModal(); });
            }
            document.addEventListener('keydown', (e)=> { if(e.key === 'Escape' && !diplomaModal.classList.contains('hidden')) closeDiplomaModal(); });

            // Portfolio modal logic (motorcycle concept images)
            const portfolioModal = document.getElementById('portfolio-modal');
            const closePortfolio = document.getElementById('close-portfolio');
            const portfolioCards = document.querySelectorAll('.portfolio-card');
            let lastFocusedEl = null;
            function openPortfolio(){
                if(!portfolioModal) return;
                lastFocusedEl = document.activeElement;
                portfolioModal.classList.remove('hidden');
                closePortfolio && closePortfolio.focus();
            }
            function closePortfolioModal(){
                if(!portfolioModal) return;
                portfolioModal.classList.add('hidden');
                if(lastFocusedEl) lastFocusedEl.focus();
            }
            portfolioCards.forEach(card => {
                card.setAttribute('tabindex','0');
                card.addEventListener('click', openPortfolio);
                card.addEventListener('keydown', (e)=>{
                    if(e.key === 'Enter' || e.key === ' '){
                        e.preventDefault();
                        openPortfolio();
                    }
                });
            });
            if(closePortfolio){
                closePortfolio.addEventListener('click', (e)=>{ e.preventDefault(); closePortfolioModal(); });
            }
            if(portfolioModal){
                portfolioModal.addEventListener('click', (e)=> { if(e.target.id === 'portfolio-modal') closePortfolioModal(); });
            }
            document.addEventListener('keydown', (e)=> { if(e.key === 'Escape' && portfolioModal && !portfolioModal.classList.contains('hidden')) closePortfolioModal(); });

            // Variable height table hover panel logic
            const tableCard = document.getElementById('variable-table-card');
            const tablePanel = document.getElementById('table-panel');
            const tableVideo = document.getElementById('table-video');
            const tablePdfFrame = document.getElementById('table-pdf-frame');
            const tablePdfLoading = document.getElementById('table-pdf-loading');
            let tablePanelHover = false;
            let tableAssetsLoaded = false;
            function loadTableAssets(){
                if(tableAssetsLoaded) return;
                // Set video source
                const source = tableVideo?.querySelector('source[data-src]');
                if(source && !source.src){
                    source.src = 'Mesa.mp4';
                    tableVideo.load();
                }
                // Load PDF
                if(tablePdfFrame && !tablePdfFrame.src){
                    tablePdfFrame.src = encodeURI('Planos mesa elevadora.pdf');
                }
                tableAssetsLoaded = true;
            }
            function showTablePanel(){
                if(!tablePanel) return;
                tablePanel.classList.remove('hidden');
                loadTableAssets();
                // Remove loading overlay when iframe loads
                if(tablePdfFrame){
                    tablePdfFrame.addEventListener('load', ()=> { if(tablePdfLoading) tablePdfLoading.style.display='none'; }, { once:true });
                }
            }
            function hideTablePanel(){
                if(!tablePanel) return;
                tablePanel.classList.add('hidden');
                if(tableVideo){ tableVideo.pause(); }
            }
            if(tableCard && tablePanel){
                tableCard.addEventListener('mouseenter', ()=>{ showTablePanel(); });
                tableCard.addEventListener('mouseleave', ()=>{ setTimeout(()=>{ if(!tablePanelHover) hideTablePanel(); }, 120); });
                tablePanel.addEventListener('mouseenter', ()=>{ tablePanelHover = true; });
                tablePanel.addEventListener('mouseleave', ()=>{ tablePanelHover = false; hideTablePanel(); });
                // Click to play / toggle video
                tableCard.addEventListener('click', ()=> {
                    showTablePanel();
                    if(tableVideo){
                        if(tableVideo.paused){
                            try {
                                if(tableVideo.currentTime < 5) tableVideo.currentTime = 5; // seek to 5s
                            } catch(_){}
                            tableVideo.play().then(()=>{ tableVideo.classList.add('video-zoom-playing'); }).catch(()=>{});
                        } else {
                            tableVideo.pause();
                        }
                    }

                    // Car wind tunnel sequence logic
                    const carCard = document.getElementById('car-windtunnel-card');
                    const carPanel = document.getElementById('car-panel');
                    const carImages = carPanel ? carPanel.querySelectorAll('img[data-car-img]') : [];
                    const carSources = [
                        { src: 'Car surface.jpg', alt: 'Car surface model (surface CAD)' },
                        { src: 'wheels car.png', alt: 'Car with wheels integrated' },
                        { src: 'ansys_wt.png', alt: 'ANSYS Fluent wind tunnel CFD result' }
                    ];
                    let carLoaded = false;
                    function loadAllCarImages(){
                        if(carLoaded) return;
                        carImages.forEach((img, i)=>{
                            const data = carSources[i];
                            if(!data) return;
                            const encoded = encodeURI(data.src);
                            const temp = new Image();
                            temp.onload = () => {
                                img.src = encoded;
                                img.alt = data.alt;
                                img.classList.remove('opacity-0');
                                img.classList.add('loaded');
                            };
                            temp.onerror = () => {
                                img.alt = 'Image not found';
                            };
                            temp.src = encoded;
                        });
                        carLoaded = true;
                    }
                    function showCarPanel(){
                        if(!carPanel) return;
                        carPanel.classList.remove('hidden');
                        loadAllCarImages();
                    }
                    function hideCarPanel(){
                        if(!carPanel) return;
                        carPanel.classList.add('hidden');
                    }
                    if(carCard && carPanel){
                        carCard.addEventListener('mouseenter', showCarPanel);
                        carCard.addEventListener('mouseleave', ()=> setTimeout(()=>{ if(!carCard.matches(':hover')) hideCarPanel(); }, 120));
                        carCard.setAttribute('tabindex','0');
                        carCard.addEventListener('focus', showCarPanel);
                        carCard.addEventListener('blur', hideCarPanel);
                        carCard.addEventListener('keydown', (e)=>{
                            if(e.key === 'Enter' || e.key === ' '){
                                e.preventDefault();
                                if(carPanel.classList.contains('hidden')) showCarPanel(); else hideCarPanel();
                            }
                        });
                    }
                });
                // Keyboard accessibility
                tableCard.setAttribute('tabindex','0');
                tableCard.addEventListener('keydown', (e)=>{
                    if(e.key === 'Enter' || e.key === ' '){
                        e.preventDefault();
                        showTablePanel();
                        if(tableVideo){
                            if(tableVideo.paused){
                                try { if(tableVideo.currentTime < 5) tableVideo.currentTime = 5; } catch(_){}
                                tableVideo.play().then(()=>{ tableVideo.classList.add('video-zoom-playing'); }).catch(()=>{});
                            } else { tableVideo.pause(); }
                        }
                    }
                });
                if(tableVideo){
                    tableVideo.addEventListener('pause', ()=>{ tableVideo.classList.remove('video-zoom-playing'); });
                    tableVideo.addEventListener('ended', ()=>{ tableVideo.classList.remove('video-zoom-playing'); });
                }
            }
         });
    </script>
</body>
</html>


